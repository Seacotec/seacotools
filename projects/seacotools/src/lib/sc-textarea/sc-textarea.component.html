<div class="">

  @if (label) {
    <div class="flex items-center mb-1">
      <label class="flex items-center text-sm font-medium text-gray-900 dark:text-white">
        @if (required) {
          <span class="text-red-700 mr-1">*</span>
        }
        {{ label }}
      </label>
    </div>
  }

  <textarea
    [rows]="rows"
    [placeholder]="placeholder"
    [name]="name"
    [formControl]="control"
    (blur)='onTouch()'
    class="outline-none bg-gray-50 dark:bg-gray-700 bg-input-field w-full px-3 py-1 border rounded
    focus:border-indigo-500 dark:focus:border-indigo-400 placeholder-gray-500 dark:placeholder-gray-400
    placeholder-opacity-70 disabled:bg-gray-300 dark:disabled:bg-gray-600"
    [ngClass]="{
      'border-gray-400 dark:border-gray-600': !errors || control.untouched,
      'border-red-500 dark:border-red-400':  errors && !control.untouched,
    }"
  ></textarea>

  <!-- Error Message -->
  @if (errors && (control.touched || showAllErrors)) {
    <div class="text-red-700 mt-1 text-sm">
      @for (errorKey of errorKeys(errors); track errorKey) {
        @if (errors[errorKey]) {
          <div>{{ getErrorMessage(errorKey, errors[errorKey]) }}</div>
        }
      }
    </div>
  }
</div>
